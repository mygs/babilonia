{% extends 'layout.html' %}

{% block body %}
  <div class="row">
    <div class="col-sm-12">
      <div id="alert"></div>
      <h2>Oasis</h2>
      <ul class="clearfix" id="sortable">
        {% for module in modules %}
          <li>
            <div class="box good">
              <h4>{{module[0]}}</h4>
              <p>{{ format_timestamp(module[2]) }}</p>
              <table id="telemetry">
                <tr>
                  <td class="param-label">Temperature</td>
                  <td class="param-value">{{ format_temperature(module[3]) }}</td>
                </tr>
                <tr>
                  <td class="param-label">Moisture</td>
                  <td class="param-value">{{ format_moisture(module[4]) }}</td>
                </tr>
                <tr>
                  <td class="param-label">Humidity</td>
                  <td class="param-value">{{ format_humidity(module[5]) }}</td>
                </tr>
                <tr>
                  <td class="param-label">Fan</td>
                  <td class="param-value">{{ status(module[6]) }}</td>
                </tr>
                <tr>
                  <td class="param-label">Light</td>
                  <td class="param-value">{{ status(module[7]) }}</td>
                </tr>
              </table>
              <div>
                <button type="button" class="btn btn-sm btn-default" data-toggle="modal" data-target="#updateNodeModal"  data-id="{{module[1]}}"><i class="fa fa-cog" aria-hidden="true"></i></button>
                <button type="button" class="btn btn-sm btn-warning" onclick="command({{module[1]}},1)"><i class="fa fa-refresh" aria-hidden="true"></i></button>
                <button type="button" class="btn btn-sm btn-info" onclick="light({{module[1]}},{{module[7]}})"><i class="fa fa-lightbulb-o" aria-hidden="true"></i></button>
                <button type="button" class="btn btn-sm btn-danger"><i class="fa fa-snowflake-o" aria-hidden="true"></i></button>
                <button type="button" class="btn btn-sm btn-success"><i class="fa fa-line-chart" aria-hidden="true"></i></button>

              </div>
            </div>
          </li>
        {% endfor %}

        <li>
          <div class="box danger">
            <h4>TOMATEIRO</h4>
            <p>09-01-18</p>
            <table id="telemetry">
              <tr>
                <td class="param-label">Temperature</td>
                <td class="param-value">25.00 C</td>
              </tr>
              <tr>
                <td class="param-label">Moisture</td>
                <td class="param-value">88.02 %</td>
              </tr>
              <tr>
                <td class="param-label">Humidity</td>
                <td class="param-value">0.00 %</td>
              </tr>
              <tr>
                <td class="param-label">Fan</td>
                <td class="param-value">OFF</td>
              </tr>
              <tr>
                <td class="param-label">Light</td>
                <td class="param-value">OFF</td>
              </tr>
            </table>
          </div>
        </li>

        <li>
          <div class="box excellent">
            <h4>TEMPEROS</h4>
            <p>09-01-18</p>
            <table id="telemetry">
              <tr>
                <td class="param-label">Temperature</td>
                <td class="param-value">25.00 C</td>
              </tr>
              <tr>
                <td class="param-label">Moisture</td>
                <td class="param-value">88.02 %</td>
              </tr>
              <tr>
                <td class="param-label">Humidity</td>
                <td class="param-value">0.00 %</td>
              </tr>
              <tr>
                <td class="param-label">Fan</td>
                <td class="param-value">OFF</td>
              </tr>
              <tr>
                <td class="param-label">Light</td>
                <td class="param-value">OFF</td>
              </tr>
            </table>
          </div>
        </li>

        <li>
          <div class="box nostatus">
            <h4>PEPINO</h4>
            <p>09-02-18 22:00</p>
            <table id="telemetry">
              <tr>
                <td class="param-label">Temperature</td>
                <td class="param-value">25.00 C</td>
              </tr>
              <tr>
                <td class="param-label">Moisture</td>
                <td class="param-value">88.02 %</td>
              </tr>
              <tr>
                <td class="param-label">Humidity</td>
                <td class="param-value">0.00 %</td>
              </tr>
              <tr>
                <td class="param-label">Fan</td>
                <td class="param-value">OFF</td>
              </tr>
              <tr>
                <td class="param-label">Light</td>
                <td class="param-value">OFF</td>
              </tr>
            </table>
          </div>
        </li>
        <li>
          <div class="box good">
            <h4>LEGUMINOSAS</h4>
            <p>09-02-18 22:00</p>
            <table id="telemetry">
              <tr>
                <td class="param-label">Temperature</td>
                <td class="param-value">25.00 C</td>
              </tr>
              <tr>
                <td class="param-label">Moisture</td>
                <td class="param-value">88.02 %</td>
              </tr>
              <tr>
                <td class="param-label">Humidity</td>
                <td class="param-value">0.00 %</td>
              </tr>
              <tr>
                <td class="param-label">Fan</td>
                <td class="param-value">OFF</td>
              </tr>
              <tr>
                <td class="param-label">Light</td>
                <td class="param-value">OFF</td>
              </tr>
            </table>
          </div>
        </li>
      </ul>
    </div>
  </div>
{% endblock %}
<!-- modal -->
{% include 'modal-updatenode.html' %}
